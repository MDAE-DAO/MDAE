--------------------------- SCRIPT 1 ---------------------------------------------------------
LET finalUserWallet = 0x30E8FED0861FAD9239546DB3B8FE41FFB64F356DB0AB5D09A1C154917936CF6D
LET dappDeveloperWallet = 0xAE184118EEDEFA88A30F294F4234BAFE4DA894AD5A11BB5FA7A0E2569BC4C8F3
LET dao = STATE(4)
LET vault = STATE(0)

LET commissionDappDao = STATE (15) * STATE (6)
LET commissionDapp = STATE (15) - commissionDappDao

LET commissionUserDao = STATE(17) * STATE(7)
LET commissionUser = STATE(17) - commissionUserDao

ASSERT VERIFYOUT(@INPUT dao 1 @TOKENID TRUE)
ASSERT VERIFYOUT(1 vault commissionDappDao 0x00 FALSE)
ASSERT VERIFYOUT(1 vault commissionUserDao 0x00 FALSE)

ASSERT VERIFYOUT(1 dappDeveloperWallet commissionDapp 0x00 FALSE)
ASSERT VERIFYOUT(1 finalUserWallet commissionUser 0x00 FALSE)
RETURN TRUE

- clean script:
"LET finaluserwallet=0x30E8FED0861FAD9239546DB3B8FE41FFB64F356DB0AB5D09A1C154917936CF6D LET dappdeveloperwallet=0xAE184118EEDEFA88A30F294F4234BAFE4DA894AD5A11BB5FA7A0E2569BC4C8F3 LET dao=STATE(4) LET vault=STATE(0) LET commissiondappdao=STATE(15)*STATE(6) LET commissiondapp=STATE(15)-commissiondappdao LET commissionuserdao=STATE(17)*STATE(7) LET commissionuser=STATE(17)-commissionuserdao ASSERT VERIFYOUT(@INPUT dao 1 @TOKENID TRUE) ASSERT VERIFYOUT(1 vault commissiondappdao 0x00 FALSE) ASSERT VERIFYOUT(1 vault commissionuserdao 0x00 FALSE) ASSERT VERIFYOUT(1 dappdeveloperwallet commissiondapp 0x00 FALSE) ASSERT VERIFYOUT(1 finaluserwallet commissionuser 0x00 FALSE) RETURN TRUE"

- script address: 0x160DF04BC76609B9F10E53DA2D60B46F3A0FD8F862EF609FEE7BCFE3795E4500

-create script:
newscript trackall:true script:"LET finaluserwallet=0x30E8FED0861FAD9239546DB3B8FE41FFB64F356DB0AB5D09A1C154917936CF6D LET dappdeveloperwallet=0xAE184118EEDEFA88A30F294F4234BAFE4DA894AD5A11BB5FA7A0E2569BC4C8F3 LET dao=STATE(4) LET vault=STATE(0) LET commissiondappdao=STATE(15)*STATE(6) LET commissiondapp=STATE(15)-commissiondappdao LET commissionuserdao=STATE(17)*STATE(7) LET commissionuser=STATE(17)-commissionuserdao ASSERT VERIFYOUT(@INPUT dao 1 @TOKENID TRUE) ASSERT VERIFYOUT(1 vault commissiondappdao 0x00 FALSE) ASSERT VERIFYOUT(1 vault commissionuserdao 0x00 FALSE) ASSERT VERIFYOUT(1 dappdeveloperwallet commissiondapp 0x00 FALSE) ASSERT VERIFYOUT(1 finaluserwallet commissionuser 0x00 FALSE) RETURN TRUE"
----------------------------------------------------------
------------------------------- SCRIPT 2 ------------------------------------------------
LET finalUserWallet = 0x1736E20905F0171F18BAC012B613BEAD9F22FE60A54596F61753E0754D4B5D6A
LET dappDeveloperWallet = 0xB293E09D7E8DFFBF9BE9CECE6F5E331023B3BDC96C27D0995FAD541D98EA0694

RETURN TRUE

-clean script:
"LET finaluserwallet=0x1736E20905F0171F18BAC012B613BEAD9F22FE60A54596F61753E0754D4B5D6A LET dappdeveloperwallet=0xB293E09D7E8DFFBF9BE9CECE6F5E331023B3BDC96C27D0995FAD541D98EA0694 RETURN TRUE"

-script address: 0x2F107C948E5AF96AE47D48EA9D650CE90CD932C44217A302F253E824C019F043
-create script
newscript trackall:true script:"LET finaluserwallet=0x1736E20905F0171F18BAC012B613BEAD9F22FE60A54596F61753E0754D4B5D6A LET dappdeveloperwallet=0xB293E09D7E8DFFBF9BE9CECE6F5E331023B3BDC96C27D0995FAD541D98EA0694 RETURN TRUE"
-----------------------------------------------------------------------------------------

------------------------
-Environment 1 (DAO and VAULT)
------------------------
java -jar minima.jar -data edenbase1 -test -nop2p -mdsenable

-> tokencreate name:"aMDAE" amount:5000 decimals:0 state:{"0":"0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA","1":"0x39383D810DC3A733E22344E02B97C940EB7A7AD4FAE918403E71FB5998C9E3C8","2":"0x62A8D572CB69B82F3ED3AE215D16F340A0EF231164D9557D6B10D24D70C4DD06","3":"0x1B17E4607ABDD642A65409A1D27D28DF628219D77B4512FA3D58A4BBE613F309","4":"0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441","5":"0xE9C2AD0CF3E65DC3F85DFB9C23FCE05B1EC4CEF09ADE5D48B31E347054E772EC","6":"0.2","7":"0.2","8":"0.2","9":"1"}

- Simulate the buying from Advertiser to the DAO using send command from DAO to Advertiser (adding state variables buyer_address, amount, buyer_publickey)
state:{"0":"0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA","1":"0x39383D810DC3A733E22344E02B97C940EB7A7AD4FAE918403E71FB5998C9E3C8","2":"0x62A8D572CB69B82F3ED3AE215D16F340A0EF231164D9557D6B10D24D70C4DD06","3":"0x1B17E4607ABDD642A65409A1D27D28DF628219D77B4512FA3D58A4BBE613F309","4":"0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441","5":"0xE9C2AD0CF3E65DC3F85DFB9C23FCE05B1EC4CEF09ADE5D48B31E347054E772EC","6":"0.2","7":"0.2","8":"0.2","9":"1","10":"0xF67EA4A71F2372A058FDEB5E29B8B720142F9997D9E3AB13BD60E3DE07B91A13","11":"10","12":"0x35B32C3223B2A0D615BD4329A8575163CAD157EAA18CCB642DB1B8649BEB5DAB"}

-Send 10 tokens to advertiser (buyer) with all state variables set

send address:0xD06BACC2B849FD373B20C1C2DFD6643F17CEDD60FF0421E57E46DEE4CC83EC31 amount:10 tokenid:0x6F3D1B097DD5B73FF6D9CC018ADB2524BF1F854B32820DC695ECD58E199363B6  state:{"0":"0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA","1":"0x39383D810DC3A733E22344E02B97C940EB7A7AD4FAE918403E71FB5998C9E3C8","2":"0x62A8D572CB69B82F3ED3AE215D16F340A0EF231164D9557D6B10D24D70C4DD06","3":"0x1B17E4607ABDD642A65409A1D27D28DF628219D77B4512FA3D58A4BBE613F309","4":"0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441","5":"0xE9C2AD0CF3E65DC3F85DFB9C23FCE05B1EC4CEF09ADE5D48B31E347054E772EC","6":"0.2","7":"0.2","8":"0.2","9":"1","10":"0xD06BACC2B849FD373B20C1C2DFD6643F17CEDD60FF0421E57E46DEE4CC83EC31","11":"10","12":"0x98AB6980372FCF7F6B23CD757B420AAE06066C92D7B432DC11741F74ADF067D8"}

-----------------------------------------------
-Environment 2 (Advertiser-buyer of tokens)
-----------------------------------------------
java -jar minima.jar -data edenbase2 -test -nop2p -port 10001 -connect 127.0.0.1:9001 -mdsenable

buyer address: 0xD06BACC2B849FD373B20C1C2DFD6643F17CEDD60FF0421E57E46DEE4CC83EC31
buyer publickey: 0x98AB6980372FCF7F6B23CD757B420AAE06066C92D7B432DC11741F74ADF067D8

-state vars configured token:
state:{"0":"0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA","1":"0x39383D810DC3A733E22344E02B97C940EB7A7AD4FAE918403E71FB5998C9E3C8","2":"0x62A8D572CB69B82F3ED3AE215D16F340A0EF231164D9557D6B10D24D70C4DD06","3":"0x1B17E4607ABDD642A65409A1D27D28DF628219D77B4512FA3D58A4BBE613F309","4":"0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441","5":"0xE9C2AD0CF3E65DC3F85DFB9C23FCE05B1EC4CEF09ADE5D48B31E347054E772EC","6":"0.2","7":"0.2","8":"0.2","9":"1","10":"0xF67EA4A71F2372A058FDEB5E29B8B720142F9997D9E3AB13BD60E3DE07B91A13","11":"10","12":"0x35B32C3223B2A0D615BD4329A8575163CAD157EAA18CCB642DB1B8649BEB5DAB","13":"[CAMPAIG 99]","14":"1","15":"10","16":"0x00","17":"10","18":"0x00","19":"1","20":"[WEB PAGE 99]","21":"[ ]","22":"[click]","23":"[]","24":"[]","25":"[]","26":"[]","27":"[]","28":"[]","29":"[]","30":"[]","31":"[]"}

-send configured token to script final user:

send address:0x0BF35EFDAA277CB53D678FF7097A84C3C96101E8F34B51686B525854C6A240AB amount:1 tokenid:0x6F3D1B097DD5B73FF6D9CC018ADB2524BF1F854B32820DC695ECD58E199363B6 state:{"0":"0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA","1":"0x39383D810DC3A733E22344E02B97C940EB7A7AD4FAE918403E71FB5998C9E3C8","2":"0x62A8D572CB69B82F3ED3AE215D16F340A0EF231164D9557D6B10D24D70C4DD06","3":"0x1B17E4607ABDD642A65409A1D27D28DF628219D77B4512FA3D58A4BBE613F309","4":"0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441","5":"0xE9C2AD0CF3E65DC3F85DFB9C23FCE05B1EC4CEF09ADE5D48B31E347054E772EC","6":"0.2","7":"0.2","8":"0.2","9":"1","10":"0xD06BACC2B849FD373B20C1C2DFD6643F17CEDD60FF0421E57E46DEE4CC83EC31","11":"10","12":"0x98AB6980372FCF7F6B23CD757B420AAE06066C92D7B432DC11741F74ADF067D8","13":"[CAMPAIGN Final 2]","14":"1","15":"10","16":"0x00","17":"10","18":"0x00","19":"2","20":"[https://i.postimg.cc/pLPWFsD6/images.jpg]","21":"[]","22":"[click]","23":"[]","24":"[]","25":"[]","26":"[]","27":"[]","28":"[]","29":"[]","30":"[]","31":"[]"}

-send 20 minimas to script final user

send address:0x0BF35EFDAA277CB53D678FF7097A84C3C96101E8F34B51686B525854C6A240AB amount:20


send address:0x1A821C722451573DEAC96669251D924E81BC0A8C1AFA3F6F9503A8F950B32C28 amount:1 tokenid:0x6F3D1B097DD5B73FF6D9CC018ADB2524BF1F854B32820DC695ECD58E199363B6 state:{"0":"0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA","1":"0x39383D810DC3A733E22344E02B97C940EB7A7AD4FAE918403E71FB5998C9E3C8","2":"0x62A8D572CB69B82F3ED3AE215D16F340A0EF231164D9557D6B10D24D70C4DD06","3":"0x1B17E4607ABDD642A65409A1D27D28DF628219D77B4512FA3D58A4BBE613F309","4":"0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441","5":"0xE9C2AD0CF3E65DC3F85DFB9C23FCE05B1EC4CEF09ADE5D48B31E347054E772EC","6":"0.2","7":"0.2","8":"0.2","9":"1","10":"0xD06BACC2B849FD373B20C1C2DFD6643F17CEDD60FF0421E57E46DEE4CC83EC31","11":"10","12":"0x98AB6980372FCF7F6B23CD757B420AAE06066C92D7B432DC11741F74ADF067D8","13":"[CAMPAIGN Final 2]","14":"2","15":"10","16":"0x00","17":"10","18":"0x00","19":"2","20":"[https://i.postimg.cc/pLPWFsD6/images.jpg]","21":"[-]","22":"[click]","23":"[-]","24":"[-]","25":"[-]","26":"[-]","27":"[-]","28":"[-]","29":"[-]","30":"[-]","31":"[-]"}

-send 20 minimas to script final user

send address:0x1A821C722451573DEAC96669251D924E81BC0A8C1AFA3F6F9503A8F950B32C28 amount:20
------------------------------------------
-Environment 3 (user)
------------------------------------------
java -jar minima.jar -data edenbase3 -test -nop2p -port 11001 -connect 127.0.0.1:9001

user wallet: 0x1736E20905F0171F18BAC012B613BEAD9F22FE60A54596F61753E0754D4B5D6A
developer wallet: 0x4FF41440C0195EBDF0C6B3FF8A9C3E0AFA2707847F7C3171F3151DC09B8CC228

-clean script:
"LET finaluserwallet=0x1736E20905F0171F18BAC012B613BEAD9F22FE60A54596F61753E0754D4B5D6A LET dappdeveloperwallet=0x4FF41440C0195EBDF0C6B3FF8A9C3E0AFA2707847F7C3171F3151DC09B8CC228 RETURN TRUE"

-script address: 0x0BF35EFDAA277CB53D678FF7097A84C3C96101E8F34B51686B525854C6A240AB

-create script
newscript trackall:true script:"LET finaluserwallet=0x1736E20905F0171F18BAC012B613BEAD9F22FE60A54596F61753E0754D4B5D6A LET dappdeveloperwallet=0x4FF41440C0195EBDF0C6B3FF8A9C3E0AFA2707847F7C3171F3151DC09B8CC228 RETURN TRUE"

runscript script:"LET finaluserwallet=0x1736E20905F0171F18BAC012B613BEAD9F22FE60A54596F61753E0754D4B5D6A LET dappdeveloperwallet=0x4FF41440C0195EBDF0C6B3FF8A9C3E0AFA2707847F7C3171F3151DC09B8CC228 RETURN TRUE"

-transaction to extract the token from the script and pay the rewards

->txncreate id:buy7
->txnstate id:buy7 port:0 value:"0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA"
->txnstate id:buy7 port:4 value:"0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441"
->txnstate id:buy7 port:6 value:"0.2"
->txnstate id:buy7 port:7 value:"0.2"
->txnstate id:buy7 port:15 value:"10"
->txnstate id:buy7 port:17 value:"10"
->txninput id:buy7 coinid:0x4291FD27388D264202478302000A19908B3F89D7ECA5A903A827FC670F5DC406
->txninput id:buy7 coinid:0x13546D1D89BC690E8054F3E5E78EC64E7366F8540DE5119F1A37BFC53FCD108A
->txnoutput id:buy7 amount:1 address:0x4712CD047BDC4233788709BF5258F5F88495B986CE1F0AFAEA9A89E8EEAFB441 tokenid:0x6F3D1B097DD5B73FF6D9CC018ADB2524BF1F854B32820DC695ECD58E199363B6 storestate:true
 >txnoutput id:buy7 amount:8 address:0x210F88D48F814F9195410E44C7FA8C42B8143F4D59E0B63E0C2EE4C7AB19672C tokenid:0x00 storestate:false
->txnoutput id:buy7 amount:8 address:0x98AD59D22A44B50D0355C2C146E3F1632919DF446121C7EEDA6DBF1213CCECDC tokenid:0x00 storestate:false
->txnoutput id:buy7 amount:2 address:0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA tokenid:0x00 storestate:false
->txnoutput id:buy7 amount:2 address:0xA2784D94B13C114BB3937118BB2419A3712D871C767202A3B178F6905728D0DA tokenid:0x00 storestate:false
->txnbasics id:buy7
->txnpost id:buy7

----------------------------------------------
- Environment 4 (Developer)   DAPP  SHOW-PUBLICITY-DAPP
----------------------------------------------
java -jar minima.jar -data edenbase4 -test -nop2p -port 12001 -connect 127.0.0.1:9001

getaddress
{
  "command":"getaddress",
  "status":true,
  "pending":false,
  "response":{
    "script":"RETURN SIGNEDBY(0x43749DDDD0AC2CDC9FB496091C9F18F9D65485798523484DE7324AC457725A7F)",
    "address":"0x4FF41440C0195EBDF0C6B3FF8A9C3E0AFA2707847F7C3171F3151DC09B8CC228",
    "miniaddress":"MxG082FUGA41G0PBQUV1HYJVU59ZFGAV8JGF13VFGZN3SZY3N09N36253BVJH8U",
    "simple":true,
    "default":true,
    "publickey":"0x43749DDDD0AC2CDC9FB496091C9F18F9D65485798523484DE7324AC457725A7F",
    "track":true
  }
}
